# java-lotto-kakao

# 프로그램 요구사항
## 각 객체당 요구사항
### 공통사항
* equals/hashCode, toString, compareTo(필요시)를 오버라이드해서 출력하기 좋은 형태로 만든다

### 금액 (Cash)
* 21억을 넘을 수 있기에 반드시 long 인스턴스 변수 선언
* 마이너스 금액인 경우 예외
* 금액 덧셈 메소드

### 복권 개수 (LottoCount)
* 구매한 복권 개수가 0 이하이면 예외

### 로또 공 번호 (LottoBallNumber)
* 1~45 사이의 값 검증

### 로또 공 추첨 (LottoPicker)
* 랜덤 추첨, 직접 지정 등 여러가지 추첨 방법에 대한 고려가 필요
  * 상속 활용 (인스턴스, 추상 클래스)
* 랜덤 추첨의 경우 45개의 공 번호를 담은 리스트 생성 후 suffle() 메소드를 통해 섞고 추첨
  * 같은 번호 재추첨을 방지하기 위해 한번 뽑은 공 번호 제거

### 로또 시도(LottoBallNumber의 리스트) (LottoTrial)
* 랜덤 생성, 직접 입력 등 여러가지 생성 방법에 대한 고려가 필요
  * 상속 활용 (인스턴스, 추상 클래스)
* 랜덤 생성의 경우 LottoPickerRandom 클래스를 활용
* 로또 공 번호들에 대한 중복 체크
* 로또 공 번호들을 정렬

### 로또 시도들 (LottoTrials)
* 로또 시도(LottoTrial) 추가 기능

### 당첨 번호 (WinNumber)
* 로또 시도와 동일하지만 보너스 숫자가 존재
* 로또 시도와 비교

### 로또 결과 (LottoResult)
* 일치하는 공 번호 개수가 6개 이하, 6개일 경우 보너스 숫자는 불일치 검증

### 전체 결과 (TotalResult)
* 로또 결과 추가 기능
* 로또 결과 추가에 따른 상금 더하기 기능
* 수익률 계산 기능 (소수점 둘째 자리까지)

***

## 고려할 점

### 당첨 번호 정보
* `보너스 번호`가 `당첨 번호`와 겹치지 않아야 함 - 겹치는 경우 예외 처리
* `로또 시도`를 인수로 받았을 때 올바르게 `매칭 정보`를 반환하는가?

### 매칭 결과
* 당첨 개수는 0~6 사이의 값을 가져야 가지는 동시에, 당첨개수가 6이면서 보너스볼이 당첨될 수 없다 - 만족하지 않을 시 예외

### 당첨 조건

### 당첨 조건들
* `당첨 조건들`에 없는 경우 상금 값은 0을 반환하는가?
* `매칭 결과`가 `당첨 조건들` 내부의 key에 있는지 잘 판단하는가?

### 당첨 정보
* `당첨 조건들`에 없는 `매칭 결과`를 받았을 때, 갱신이 되지 않는가?
* `수익률`을 잘 반환하는가?

***

# Controller
* 이번에는 racingcar 프로젝트보다 `Main` class 에서 처리할 것들이 많아질 것 같다.
* `Main` 내에 여러 보조 함수들을 만들어서 위의 로직들을 처리하는 게 좋을 것 같기도..?!
* 아니면 racingcar의 Racing을 담당하는 클래스처럼 전체 로직을 담당하는 클래스를 하나 더 만들어도 될수도,,,

# domain
## 일급 객체 뭘 만들지?
* `금액` - 구입금액, 상품당첨금액 => 반드시 long으로 - (6개 일치 - `20억`)
* `복권 개수` - `14개`를 구입했습니다.
* `로또 공 번호` - 일반 볼, 보너스 볼 - (`14`, `21` ...)
* `로또 시도` (6개의 로또 공으로 이루어진 ArrayList 하나 - `[1, 2, 3, 4, 5, 6]`
* `로또 시도들` (로또 시도로 이루어진 ArrayList 하나) - `[[1,2,3,4,5,6], [1,4,6,7,8,9], ...]`
* `수익률`?

## 다른 객체들
* `당첨 번호 정보` (`로또 시도`(`당첨 번호`) + 보너스 볼 하나) - `[1,2,3,4,5,6]+7`
* `매칭 결과` (일치 개수 + 보너스 볼 일치 여부) - `5개 맞춤 + 보너스 1개`
* `당첨 조건` (매칭 정보 + 상금 금액 - Map.Entry 사용하면 될까?) `6개 다 맞춤 - 20억원`
* `당첨 조건들` (매칭 정보 - 상금 금액 map) - `6개 다 맞추면 20억원, 5개+보너스면 얼마,...`
* `당첨 정보` (매칭 정보 - 복권 개수 map) - `1등 몇 개, 2등 몇 개, ...`

## 프로그램 진행 - 의식의 흐름대로
* `구입금액`을 입력 받는다
* `구입금액`으로 살 수 있는 `복권 개수`를 파악한다. 이 때, `복권 개수`가 0 이하이면 예외를 던진다.
* `복권 개수`만큼 `로또 시도`를 자동으로 생성하여 `로또 시도들`에 저장한다.
  * `로또 시도`는 중복되지 않고, 각 `로또 공 번호`는 1~45 이하여야 한다.
* 지난 주 `당첨 번호 정보`(`로또 시도`(`당첨 번호`) + 보너스 볼)를 입력 받는다.
  * 입력을 받는 경우(`"1, 2, 3, 4, 5, 6"` 적절히 파싱하여 `정로또 공 번호`, `로또 시도`로 변환하여야 한다.
  * `당첨 번호` 또한 `로또 시도`와 같은 조건을 따른다.
  * `보너스 볼`을 입력 받을 때, `당첨 번호`에는 보너스 볼이 없어야 한다.
* `로또 시도들`에서 `로또 시도`를 하나씩 꺼내서 `당첨 번호 정보`과 비교하여 `매칭 결과`를 생성한다.
* `매칭 결과`가 `당첨 조건들`에 있는지 확인한 다음, 있다면 `당첨 정보`에 갱신시킨다.
* `당첨 통계`를 적절히 출력한다